http{
    server
	{
        server_name   server1;
        listen        8080;
        timeout 10;

        location	/images
		{
			alias	SERVER1/images/;
            autoindex on;
			methods GET;
		}
		location        /docs
        {
            autoindex	on;
            methods 	GET;
            alias		SERVER1/docs/;
        }
		location	/post
		{
			error_files    404  SERVER1/post/error404.html;
			autoindex   on;
            methods		GET POST;
			alias		SERVER1/post/;
			postdir		SERVER1/post_upload/;
		}
		location	/uploads
		{
			methods GET DELETE;
            autoindex on;
			alias	SERVER1/post_upload/;
		}
        location    /cgi
        {
            methods     GET POST;
            cgi_pass    SERVER1/cgi/;
        }
        location    /cgi_form
        {
            autoindex on;
            methods GET;
            alias   SERVER1/cgi_form/;
        }
        location    /redirect
        {
            redirect SERVER1/docs/;
        }
        location      /{
        	error_files    404  SERVER1/docs/error404.html;
            alias      SERVER1/docs/;
            methods   GET;
            index   index.html index.htm;
        }
    }

	server
	{
        server_name   server2;
        listen        8080;
        timeout 10;
        location        /docs
        {
            autoindex	on;
            methods 	GET;
            alias		SERVER2/docs/;
        }
		location	/post
		{
			limit_body_size 100;
            methods		POST;
			alias		SERVER2/docs;
			postdir		SERVER2/post_upload/;
		}
		location	/uploads
		{
			methods GET DELETE;
			alias	SERVER2/post_upload/;
		}
        location    /cgi
        {
            cgi_pass    SERVER2/cgi/;
        }
		location    /cgi_form
        {
            autoindex on;
            methods GET;
            alias   SERVER2/cgi_form/;
        }
        location    /redirect
        {
            redirect SERVER2/docs/;
        }
        location      /{
            alias      SERVER2/docs/;
            methods   GET;
            index   index.html index.htm;
        }
    }

	server
	{
        server_name   server3;
        listen        3000;
        timeout 10;
        error_page    400 404  /40x.html;
        location        /images
        {
            autoindex	off;
            methods 	GET;
            alias		SERVER3/docs/images/;
        }
		location	/post
		{
			methods		GET POST;
			alias		SERVER3/post/;
			postdir		SERVER3/post_upload/;
		}
		location	/uploads
		{
			methods GET DELETE;
			alias	SERVER3/post_upload/;
		}
        location    /cgi
        {
            cgi_pass    SERVER3/cgi/;
        }
		location    /cgi_form
        {
            autoindex on;
            methods GET;
            alias   SERVER3/cgi_form/;
        }
        location    /redirect
        {
            redirect SERVER3/docs/;
        }
        location      /{
            alias      SERVER3/docs/;
            methods   GET;
            index   index.html index.htm;
        }
    }
}

