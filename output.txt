Estoy en contexto: main
Estoy en contexto: events
Estoy en contexto: http
Port de server 0 es: 127
Socket de servidor 0 es: 3
Port de server 1 es: 8080
Socket de servidor 1 es: 4
NEW CLIENT | FD: 5 | EVENTS: 1
NEW CLIENT | FD: 5 | EVENTS: 4
READ EVENT
~~~~LOAD REQUEST STAGE~~~~
Cre√≥ el istringstream
Method a evaluar: GET
Id de method: 0

METHOD: GET

URL: /
-------------------IMPRIMO MAPA-------------------


Key: Accept | Value: text/html,application/xhtml+xml,application/xml
Key: Accept | Value: q=0.9,image/avif,image/webp,image/apng,*/*
Key: Accept | Value: q=0.8,application/signed-exchange
Key: Accept | Value: v=b3
Key: Accept | Value: q=0.7
Key: Accept-Encoding | Value: gzip, deflate, br
Key: Accept-Language | Value: es-ES,es
Key: Accept-Language | Value: q=0.9,en
Key: Accept-Language | Value: q=0.8
Key: Connection | Value: keep-alive
Key: Host | Value: localhost:8080
Key: Sec-Fetch-Dest | Value: document
Key: Sec-Fetch-Mode | Value: navigate
Key: Sec-Fetch-Site | Value: none
Key: Sec-Fetch-User | Value: ?1
Key: Upgrade-Insecure-Requests | Value: 1
Key: User-Agent | Value: Mozilla/5.0 (Macintosh
Key: User-Agent | Value: Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36
Key: sec-ch-ua | Value: "Not_A Brand"
Key: sec-ch-ua | Value: v="8","Chromium"
Key: sec-ch-ua | Value: v="120","Google Chrome"
Key: sec-ch-ua | Value: v="120"
Key: sec-ch-ua-mobile | Value: ?0
Key: sec-ch-ua-platform | Value: "macOS"


-------------------TERMINA DE IMPRIMIR MAPA-------------------


EN RESPONSE TO METHOD
URL a comparar: /
Estoy en contexto location: /pepe/juan
Len de location: 10
Pos de final: 9
Find: 5
Pos tras find - 1: 4
Pos de final: 4
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 4
pepe
RANGE: START: 6 | END: 9
juan
Size de rangesLoc: 2
Estoy en contexto location: /redirect
Len de location: 9
Pos de final: 8
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 8
redirect
Size de rangesLoc: 1
Estoy en contexto location: /pepe
Len de location: 5
Pos de final: 4
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 4
pepe
Size de rangesLoc: 1
Estoy en contexto location: /manolo
Len de location: 7
Pos de final: 6
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 6
manolo
Size de rangesLoc: 1
Estoy en contexto location: /cgi
Len de location: 4
Pos de final: 3
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 3
cgi
Size de rangesLoc: 1
Estoy en contexto location: /documents
Len de location: 10
Pos de final: 9
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 9
documents
Size de rangesLoc: 1
Estoy en contexto location: /
Len de location: 1
Hace match de la URL: / y /
M√âTODO PERMITIDO: GET
M√âTODO A EVALUAR: 0
GET METHOD
Es un directorio, usar index
Encontr√≥ la key de index: 
En getPathFileRequest
Location es: /
URL es: /
Key tipo: alias
Encontr√≥ la key
En getRedir
Encontr√≥: alias
path de file index: /Users/pfuentes/ejercicios/CPP/webserv_git/documents//index.html
Existe fichero 
File a responder: /Users/pfuentes/ejercicios/CPP/webserv_git/documents//index.html

RESPONSE HEADER IS: HTTP/1.1 200 OK
Content-Length: 52


WRITE EVENT
---WRITE EVENT---: CLIENT: 5
LEN DE RESPONSE: 91
[1;31mENVIADO: 91[0m
LONGITUD DE RESPONSE: 91
Terminar de escribir, cerrar client
Termina de escribir, BORRA
Ha encontrado un cliente para borrar: 5
NEW CLIENT | FD: 5 | EVENTS: 1
NEW CLIENT | FD: 5 | EVENTS: 4
READ EVENT
~~~~LOAD REQUEST STAGE~~~~
Cre√≥ el istringstream
Method a evaluar: GET
Id de method: 0

METHOD: GET

URL: /
-------------------IMPRIMO MAPA-------------------


Key: Accept | Value: text/html,application/xhtml+xml,application/xml
Key: Accept | Value: q=0.9,image/avif,image/webp,image/apng,*/*
Key: Accept | Value: q=0.8,application/signed-exchange
Key: Accept | Value: v=b3
Key: Accept | Value: q=0.7
Key: Accept-Encoding | Value: gzip, deflate, br
Key: Accept-Language | Value: es-ES,es
Key: Accept-Language | Value: q=0.9,en
Key: Accept-Language | Value: q=0.8
Key: Cache-Control | Value: max-age=0
Key: Connection | Value: keep-alive
Key: Host | Value: localhost:8080
Key: Sec-Fetch-Dest | Value: document
Key: Sec-Fetch-Mode | Value: navigate
Key: Sec-Fetch-Site | Value: none
Key: Sec-Fetch-User | Value: ?1
Key: Upgrade-Insecure-Requests | Value: 1
Key: User-Agent | Value: Mozilla/5.0 (Macintosh
Key: User-Agent | Value: Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36
Key: sec-ch-ua | Value: "Not_A Brand"
Key: sec-ch-ua | Value: v="8","Chromium"
Key: sec-ch-ua | Value: v="120","Google Chrome"
Key: sec-ch-ua | Value: v="120"
Key: sec-ch-ua-mobile | Value: ?0
Key: sec-ch-ua-platform | Value: "macOS"


-------------------TERMINA DE IMPRIMIR MAPA-------------------


EN RESPONSE TO METHOD
URL a comparar: /
Estoy en contexto location: /pepe/juan
Len de location: 10
Pos de final: 9
Find: 5
Pos tras find - 1: 4
Pos de final: 4
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 4
pepe
RANGE: START: 6 | END: 9
juan
Size de rangesLoc: 2
Estoy en contexto location: /redirect
Len de location: 9
Pos de final: 8
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 8
redirect
Size de rangesLoc: 1
Estoy en contexto location: /pepe
Len de location: 5
Pos de final: 4
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 4
pepe
Size de rangesLoc: 1
Estoy en contexto location: /manolo
Len de location: 7
Pos de final: 6
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 6
manolo
Size de rangesLoc: 1
Estoy en contexto location: /cgi
Len de location: 4
Pos de final: 3
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 3
cgi
Size de rangesLoc: 1
Estoy en contexto location: /documents
Len de location: 10
Pos de final: 9
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 9
documents
Size de rangesLoc: 1
Estoy en contexto location: /
Len de location: 1
Hace match de la URL: / y /
M√âTODO PERMITIDO: GET
M√âTODO A EVALUAR: 0
GET METHOD
Es un directorio, usar index
Encontr√≥ la key de index: 
En getPathFileRequest
Location es: /
URL es: /
Key tipo: alias
Encontr√≥ la key
En getRedir
Encontr√≥: alias
path de file index: /Users/pfuentes/ejercicios/CPP/webserv_git/documents//index.html
Existe fichero 
File a responder: /Users/pfuentes/ejercicios/CPP/webserv_git/documents//index.html

RESPONSE HEADER IS: HTTP/1.1 200 OK
Content-Length: 52


WRITE EVENT
---WRITE EVENT---: CLIENT: 5
LEN DE RESPONSE: 91
[1;31mENVIADO: 91[0m
LONGITUD DE RESPONSE: 91
Terminar de escribir, cerrar client
Termina de escribir, BORRA
Ha encontrado un cliente para borrar: 5
NEW CLIENT | FD: 5 | EVENTS: 1
NEW CLIENT | FD: 5 | EVENTS: 4
NEW CLIENT | FD: 6 | EVENTS: 1
NEW CLIENT | FD: 6 | EVENTS: 4
READ EVENT
~~~~LOAD REQUEST STAGE~~~~
Cre√≥ el istringstream
Method a evaluar: GET
Id de method: 0

METHOD: GET

URL: /favicon.ico
-------------------IMPRIMO MAPA-------------------


Key: Accept | Value: image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*
Key: Accept | Value: q=0.8
Key: Accept-Encoding | Value: gzip, deflate, br
Key: Accept-Language | Value: es-ES,es
Key: Accept-Language | Value: q=0.9,en
Key: Accept-Language | Value: q=0.8
Key: Connection | Value: keep-alive
Key: Host | Value: localhost:8080
Key: Referer | Value: http://localhost:8080/
Key: Sec-Fetch-Dest | Value: image
Key: Sec-Fetch-Mode | Value: no-cors
Key: Sec-Fetch-Site | Value: same-origin
Key: User-Agent | Value: Mozilla/5.0 (Macintosh
Key: User-Agent | Value: Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36
Key: sec-ch-ua | Value: "Not_A Brand"
Key: sec-ch-ua | Value: v="8","Chromium"
Key: sec-ch-ua | Value: v="120","Google Chrome"
Key: sec-ch-ua | Value: v="120"
Key: sec-ch-ua-mobile | Value: ?0
Key: sec-ch-ua-platform | Value: "macOS"


-------------------TERMINA DE IMPRIMIR MAPA-------------------


EN RESPONSE TO METHOD
URL a comparar: /favicon.ico
Estoy en contexto location: /pepe/juan
Len de location: 10
Pos de final: 9
Find: 5
Pos tras find - 1: 4
Pos de final: 4
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 4
pepe
RANGE: START: 6 | END: 9
juan
Pos de final: 0
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 0

Size de rangesLoc: 2
Comparar LOC: pepe y URI: 
Distinta longitud
Estoy en contexto location: /redirect
Len de location: 9
Pos de final: 8
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 8
redirect
Pos de final: 0
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 0

Size de rangesLoc: 1
Comparar LOC: redirect y URI: 
Distinta longitud
Estoy en contexto location: /pepe
Len de location: 5
Pos de final: 4
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 4
pepe
Pos de final: 0
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 0

Size de rangesLoc: 1
Comparar LOC: pepe y URI: 
Distinta longitud
Estoy en contexto location: /manolo
Len de location: 7
Pos de final: 6
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 6
manolo
Pos de final: 0
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 0

Size de rangesLoc: 1
Comparar LOC: manolo y URI: 
Distinta longitud
Estoy en contexto location: /cgi
Len de location: 4
Pos de final: 3
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 3
cgi
Pos de final: 0
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 0

Size de rangesLoc: 1
Comparar LOC: cgi y URI: 
Distinta longitud
Estoy en contexto location: /documents
Len de location: 10
Pos de final: 9
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 9
documents
Pos de final: 0
Find: 0
Pos tras find - 1: -1
RANGE: START: 1 | END: 0

Size de rangesLoc: 1
Comparar LOC: documents y URI: 
Distinta longitud
Estoy en contexto location: /
Len de location: 1
Hace match de la URL: / y /favicon.ico
M√âTODO PERMITIDO: GET
M√âTODO A EVALUAR: 0
GET METHOD
URL: /favicon.ico
En getPathFileRequest
Location es: /
URL es: /favicon.ico
Key tipo: alias
Encontr√≥ la key
En getRedir
Encontr√≥: alias

FILEPATH IS:/Users/pfuentes/ejercicios/CPP/webserv_git/documents/favicon.ico
filePath: /Users/pfuentes/ejercicios/CPP/webserv_git/documents/favicon.ico
File a responder: /Users/pfuentes/ejercicios/CPP/webserv_git/documents/favicon.ico

RESPONSE HEADER IS: HTTP/1.1 200 OK
Content-Length: 66783


WRITE EVENT
---WRITE EVENT---: CLIENT: 5
LEN DE RESPONSE: 66825
[1;31mENVIADO: 66825[0m
LONGITUD DE RESPONSE: 66825
Terminar de escribir, cerrar client
Termina de escribir, BORRA
Ha encontrado un cliente para borrar: 5
